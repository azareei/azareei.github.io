<!DOCTYPE html>
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>Ahmad  Zareei | Option Pricing</title>
<meta name="description" content="Personal homepage of Ahmad Zareei, Senion AI research Scientist @META
">

<!-- Open Graph -->


<!-- Bootstrap & MDB -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" integrity="sha512-RO38pBRxYH3SoOprtPTD86JFOclM51/XTIdEPh5j8sj4tp8jmQIx26twG52UaLi//hQldfrh7e51WzP9wuP32Q==" crossorigin="anonymous">

<!-- Fonts & Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap">

<!-- Code Syntax Highlighting -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">

<!-- Styles -->
<link rel="shortcut icon" href="/assets/img/logo.ico">
<link rel="stylesheet" href="/assets/css/main.css">

<link rel="canonical" href="/blog/2021/Option-Pricing/">

<!-- Theming-->

<script src="/assets/js/theme.js"></script>



  
  
<!-- MathJax -->
<script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js"></script>
<script>
    window.MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            processEscapes: true,
            processEnvironments: true
        },
        options: {
            skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            ignoreHtmlClass: 'tex2jax_ignore',
            processHtmlClass: 'tex2jax_process'
        }
    };
</script>

  
  <meta name="google-site-verification" content="SwVgS1KjZmScXzgcGAsFKN5eksnUe79r12brKRMZLko">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-TWETJLDW9Z"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-TWETJLDW9Z');
  </script>
</head>

<body class="fixed-top-nav ">

  <!-- Header -->

  <header>

  <!-- Nav Bar -->
  <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
    <div class="container">
      
      <a class="navbar-brand title font-weight-lighter" href="https://azareei.github.io/">
        </a><a href="https://azareei.github.io/" class="fab"> <img style="height: 27px; width: auto; vertical-align: middle;padding-right: 10px;" src="/assets/img/logo.png" class="ai" alt="AZ">
        </a>
        <span class="font-weight-bold">Ahmad </span>    Zareei
      
      
      <!-- Navbar Toogle -->
      <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>
      <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
          <!-- About -->
          <li class="nav-item ">
            <a class="nav-link" href="/">
              about
              
            </a>
          </li>
          <!-- Other pages  | sort: "title" -->
          
          
          
          
          
          
          
          <li class="nav-item ">
            <a class="nav-link" href="/publications/">
              publications
              
            </a>
          </li>
          
          
          
          <li class="nav-item ">
            <a class="nav-link" href="/projects/">
              research
              
            </a>
          </li>
          
          
          
          
          
          
          
          
          
          
          
          <!-- Blog -->
          <li class="nav-item active">
            <a class="nav-link" href="/blog/">
              blog
              
            </a>
          </li>
          
          
          <div class="toggle-container">
            <a id="light-toggle">
              <i class="fas fa-moon"></i>
              <i class="fas fa-sun"></i>
            </a>
          </div>
          
        </ul>
      </div>
    </div>
  </nav>

</header>

  <!-- Content -->

  <div class="container mt-5">
    

<div class="post">

  <header class="post-header">
    <h1 class="post-title">Option Pricing</h1>
    <p class="post-meta">February 25, 2021</p>
  </header>

  <article class="post-content">
    <p>Recently, I’ve developed a fascination for options trading and the mechanisms behind their pricing. This piece is aimed at sharing my understanding so far about options and their pricing structure. I’ll start with the basics of options, then move onto discussing the limits within which an option’s price can fluctuate. Subsequently, I’ll shed some light on concepts like the Weiner process and the Ito process. To round off, I’ll derive the well-known Black-Scholes equation. Please note: I don’t come from a financial background, so what I’m sharing here are my personal interpretations and learning.</p>

<h1 id="options">Options</h1>

<p>An options is a contract that gives the buyer the <em>option,</em> but not obligation, to buy (i.e., <strong>Call</strong> option) or sell (i.e., <strong>Put</strong> option) an asset (such as stock) at a specific strike price before a certain date (<strong>American</strong> option) or at a certain date (<strong>European</strong> option).</p>

<p>To make it easier we focus on European options. In summary we then have the following two primary option categories: <strong>calls</strong> and <strong>puts</strong>.</p>

<ul>
  <li>
<strong>Call</strong>: The right to purchase stock at the strike price \(P\) from the seller of the option at time \(T.\)</li>
  <li>
<strong>Put</strong>: The right to sell a stock at price \(P\) to the seller of option at time \(T\).</li>
</ul>

<p>The objective of option pricing is to answer how much an option contract worth at time \(t&lt;T\) ?</p>

<div class="row mt-3" style="text-align:center;">
    <div class="col-sm mt-3 mt-md-0">
        <img class="img-fluid rounded z-depth-1" width="900" src="/assets/posts/options.png">
    </div>
</div>

<p><br></p>

<h2 id="interest-rate">Interest rate</h2>

<p>Interest rate is the cost of borrowing money. If you borrow/lend \(X\)amount of money, you are expected to give-back/take \(Xe^{rT}\) after time \(T\). Basically it means time is money.</p>

<p><br></p>
<h2 id="bounds-on-option-price">Bounds on Option Price</h2>

<p>We can find bounds on the values of options.</p>

<p><br></p>
<h3 id="call-option">Call Option:</h3>

<p>The price of a call option \(c\) at the time of purchase \(t=t_0\) is  \(c = \mathbb{E}(S_T) - X\). The price of an option cannot be larger than the stock price, i.e., \(\boxed{c \leq S_0}\). If this was the case, one would sell the call options, buy the stock and invest the rest. On the other hand to find the lower bound, consider the following portfolios</p>

<ul>
  <li>One call option and \(Xe^{-rT}\) amount of money invested risk-free</li>
  <li>One stock at \(S_0\)</li>
</ul>

<p>In the first scenario the bond worth \(X\) amount of money, and the call option worth \(\max(S_T-X,0)\), so in total we will have \(X+\max(S_T-X,0) = \max(S_T,X)\) The second portfolio however worth \(S_T\). comparing the two, we find that</p>

\[\text{since }  \max(S_T,X) \geq S_T \to c + Xe^{-rT} \geq S_0 \to \boxed{c \geq S_0 - Xe^{-rT}}\]

<p><br></p>
<h3 id="put-option">Put Option</h3>

<p>The value of a put option is \(p = X-\mathbb{E}(S_T)\). The put option can not worth more than the discounted value of the strike price, i.e., \(\boxed{p \leq Xe^{-rT}}\). Since if this wasn’t the case, one would sell the put option, invest the money, and at the exiration date, he will have more money that he needs for settlement.  To find the lower bound, we consider the following portfolios</p>

<ul>
  <li>One put option \(p\) and one stock \(S_0\)</li>
  <li>A bond paying \(X\) at time \(t=T\). It should basically cost \(Xe^{-rT}\).</li>
</ul>

<p>In the first scenario, the stock worth \(S_T\), and the put worth \(\max(X-S_T,0)\). So the portfolio, worth \(\max(X,S_T)\). on the other hand, the second portfolio worth \(X\). As a result, we have</p>

\[\text{since }\max(X,S_T) \geq X \to p + S_0 \geq Xe^{-rT} \to \boxed{p \geq Xe^{-rT}-S_0}\]

<p><br></p>
<h3 id="put-call-parity">Put-Call Parity</h3>

\[\text{call option at }c \text{ matures to } \max(S_T-X,0) \\ \text{put option at }p \text{ matures to } \max(X-S_T,0) \\\]

<p>No, imagine we buy a call option and a bond at \(Xe^{-rT}\) on one hand, and a put option and a stock at \(S_0\). The portiolios then become</p>

<ul>
  <li>call option \(c\) + bond \(Xe^{-rT}\) matures to \(\max(S_T-X,0) + X = \max(S_T,X)\)</li>
  <li>put option \(p\) + stock \(S_0\) matures to \(\max(X-S_T,0) + S_T = \max(X,S_T)\)</li>
</ul>

<p>Since these two profiles have the same maturity, they should be equal or</p>

\[\boxed{c + Xe^{-rT} = p + S_0}\]

<p>The above equation is known as put-call parity which relates the price of a call option to the price of a call option.</p>

<p><br></p>
<h2 id="weiner-process">Weiner Process</h2>

<p>A variable \(z\) follows a Weiner process, if the following two properties hold</p>

<ul>
  <li>The change \(\Delta z\) during period \(\Delta t\), is \(\Delta z = \epsilon \sqrt{\Delta t}\), where \(\epsilon\) has a standard normal distribution with mean zero and standard deviation unity, i.e., \(\epsilon \in \mathcal{N}(0,1)\).</li>
  <li>The values of \(\Delta z\) fr any two short intervals of time, \(\Delta t\), are independent.</li>
</ul>

<p>From the first property, we can conclude that \(\Delta z\) has a normal distribution as \(\mathcal{N}(0,\Delta t)\). If we also consider the changes from \(t=0\), to \(t=T\), we have</p>

\[z(T)-z(0) = \sum \epsilon_i \sqrt{\Delta t}\]

<p>where all of the \(\epsilon_i\)s are independent and are distributed \(\mathcal{N}(0,1)\). Since \(\epsilon_i\)s are independent, then \(z(T)-z(0) \in \mathcal(0,N\Delta t) = \mathcal{N}(0,T)\).</p>

<p><br></p>
<h2 id="generalized-weiner-process">Generalized Weiner Process</h2>

<p>A generalized Weiner process for a random variable \(x\)  is defined as</p>

\[\Delta x = a \Delta t + b \epsilon \sqrt{\Delta t}\]

<p>where \(a,b\) are constants. If \(a\) and \(b\) are a function of \(x,t\) then, this process is called an <strong>Ito Process.</strong></p>

<p><br></p>
<h2 id="itos-lemma">Ito’s Lemma</h2>

<p>Suppose a random variable \(x\) follows an Ito process</p>

\[dx = a(x,t) dt + b(x,t) dz\]

<p>If \(G\) is a function of \(x\) and \(t\), then</p>

\[dG = \left(\frac{\partial G}{\partial t} +  \frac{\partial G}{\partial x} a + \frac{1}{2}\frac{\partial^2 G}{\partial x^2} b^2\right) dt + \frac{\partial G}{\partial x} b ~dz\]

<p><br></p>
<h2 id="stock-price-as-random-walk">Stock Price as Random Walk</h2>

<p>Stock price return does a random walk with drift \(\mu\) and</p>

\[\frac{dS}{S} = \mu  dt + \zeta\]

<p>where \(\zeta\) is a noise term (e.g., Gaussian) with standard deviation \(\zeta_0\) and vanishing mean. Each time step has a variance of \(\zeta_0^2\), and the number of steps are \(t/dt\). Therefore the standard deviation will be \(\zeta_0 \sqrt{t/dt}\). In order for the limit of \(dt\to0\) to make sense, \(\zeta_0 \propto \sqrt{dt}\). Therefore, we write the noise term as \(\zeta=\sigma \epsilon \sqrt{dt}\)  , where \(\sigma\) is the volatility of the stock return and \(\epsilon\) is a Gaussian random number with zero mean and unit standard deviation \(\mathcal{N}(0,1)\).</p>

<p>Let’s first take a look at the stocks random walk. In the following we assume a \(15\%\) return (\(\mu = 0.15\)) and a volatility of \(30\%\) (\(\sigma =0.15\)).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span> 
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">S0</span> <span class="o">=</span> <span class="mf">1.</span><span class="p">;</span> <span class="n">dt</span><span class="o">=</span><span class="mf">0.01</span><span class="p">;</span> <span class="n">mu</span><span class="o">=</span><span class="mf">0.15</span><span class="p">;</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.3</span><span class="p">;</span> <span class="n">T</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="n">dt</span><span class="p">)</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
    <span class="n">S</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>
    <span class="n">S</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">S0</span><span class="p">;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nf">int</span><span class="p">((</span><span class="n">T</span><span class="o">-</span><span class="n">dt</span><span class="p">)</span><span class="o">/</span><span class="n">dt</span><span class="p">)):</span>
        <span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">exp</span><span class="p">(</span><span class="n">mu</span><span class="o">*</span><span class="n">dt</span><span class="o">+</span><span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">randn</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">sigma</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">dt</span><span class="p">));</span>
    <span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">S</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="sh">'</span><span class="s">b</span><span class="sh">'</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">yscale</span><span class="p">(</span><span class="sh">'</span><span class="s">log</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xlabel</span><span class="p">(</span><span class="sh">'</span><span class="s">time</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">ylabel</span><span class="p">(</span><span class="sh">'</span><span class="s">Log(S/S_0)</span><span class="sh">'</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div>

<div class="row mt-3" style="text-align:center;">
    <div class="col-sm mt-3 mt-md-0">
        <img class="img-fluid rounded z-depth-1" width="700" src="/assets/posts/Stocks.png">
    </div>
</div>

<p>In summary we had</p>

\[dS = \mu S dt + \sigma S dz\]

<p>Now, imagine that \(G = \ln S\), from Ito’s Lemma, we have</p>

\[\frac{\partial G}{\partial S} = \frac{1}{S}, \quad \frac{\partial^2 G}{\partial S^2} = \frac{-1}{S^2}, \quad \frac{\partial G}{\partial t} = 0\]

<p>As a result, we find that</p>

\[dG = \left( \mu - \frac{\sigma^2}{2}\right) dt + \sigma dz\]

<p>So, we can say that</p>

\[\ln S_T - \ln S_0 \sim \mathcal{N}\left( (\mu - \frac{\sigma^2}{2})T, \sigma^2 T\right)\]

<p>Example. Imagine a stock price of \(10\$\), with annual return of \(16\%\), and volatility of \(20\%\). After \(6\) months, what is the probability distribution of stock price?</p>

\[\ln S_T - \ln10 \sim \mathcal{N}\left( (0.16-\frac{0.2^2}{2})\frac{1}{2}, 0.2^2 \frac{1}{2} \right)\\\]

\[\ln S_T - \ln10 \sim \mathcal{N}\left(0.07, 0.2 \right)\\\]

\[10 e^{0.07-0.2}\leq S_T \leq 10 e^{0.07+0.2} \to 8.78 \leq S_T \leq 13.10\]

<p>with \(90\%\) probability the stock price lies in this interval.</p>

<h1 id="derivation-of-black-scholes-merton">Derivation of Black-Scholes-Merton</h1>

<p>Assume \(f\) is the price of an option at time \(t\) contingent of stock \(S\). The variable \(f\) should be a function of \(S\) and t. Using Ito’s lemma, we have</p>

\[df = \left( \frac{\partial f}{\partial t} +  \frac{\partial f}{\partial S} \mu S + \frac{1}{2}  \frac{\partial^2 f}{\partial S^2} \sigma^2 S^2  \right) dt + \frac{\partial f}{\partial S} \sigma S dz\]

<p>Imagine a portfolio \(\Pi\) made of \(-1\) derivative and \(\partial f/\partial S\) shares, i.e.,</p>

\[\Pi = -f + \frac{\partial f}{\partial S} S\]

<p>The change in the portfolio then becomes</p>

\[\Delta \Pi = -\Delta f + \frac{\partial f}{\partial S} \Delta S\]

<p>Using the obtained results so far, we have</p>

\[\Delta \Pi = \left( -\frac{\partial f}{\partial t} - \frac{1}{2} \frac{\partial^2 f}{\partial S^2} \sigma^2 S^2 \right)\Delta t\]

<p>The above equation, does not involve \(\Delta z\), so it must be risk-less during the time \(\Delta t\). If it earned more than return, it will be a risk-less profit by borrowing money and buying the portfolio. If this portfolio earns less than r, shorting such portfolio results in a risk-less profit.</p>

\[\Delta \Pi = r \Pi \Delta t\]

\[\left( -\frac{\partial f}{\partial t} - \frac{1}{2} \frac{\partial^2 f}{\partial S^2} \sigma^2 S^2 \right)\Delta t = r \left( -f + \frac{\partial f}{\partial S} S \right) \Delta t\]

\[\boxed{\frac{\partial f}{\partial t} + \frac{1}{2}\sigma^2 S^2  \frac{\partial^2 f}{\partial S^2} +r S\frac{\partial f}{\partial S} = r f }\]

<p>The boundary condition for a European option is</p>

<ul>
  <li>Call option at \(t=T\), \(f=\max(S-X,0)\)</li>
  <li>Put option at \(t=T\), \(f = \max(X-S,T)\)</li>
</ul>

<p><br></p>
<h2 id="solving-black-scholes-equation">Solving Black-Scholes Equation</h2>

<p>We first take the following change of variables</p>

\[\tilde S = \log S, \quad \tilde t = T-t\]

<p>As a result</p>

\[\frac{\partial f}{\partial S} = \frac{1}{S} \frac{\partial f}{\partial \tilde S} , \quad \frac{\partial^2 f}{\partial S^2} = \frac{-1}{S^2} \frac{\partial f}{\partial \tilde S}  + \frac{1}{S^2} \frac{\partial^2 f}{\partial \tilde S^2}, \quad \frac{\partial f}{\partial t} = -\frac{\partial f}{\partial t}\]

<p>w and the B-S equation becomes</p>

\[- \frac{\partial f}{\partial \tilde t} + \frac{1}{2}\sigma^2 S^2  \left( \frac{-1}{S^2} \frac{\partial f}{\partial \tilde S}  + \frac{1}{S^2} \frac{\partial^2 f}{\partial \tilde S^2} \right) +r S\left( \frac{1}{S} \frac{\partial f}{\partial \tilde S} \right) = r f\]

\[- \frac{\partial f}{\partial \tilde t} + \frac{1}{2}\sigma^2   \frac{\partial^2 f}{\partial \tilde S^2}  + \left( r- \frac{\sigma^2}{2}\right)   \frac{\partial f}{\partial \tilde S} = r f\]

<p>Next, taking out the risk-free movement in the price \(\tilde f = e^{-r\tilde t}f\), we find that</p>

\[\frac{\partial \tilde f}{\partial \tilde t} = \frac{1}{2}\sigma^2   \frac{\partial^2 \tilde  f}{\partial \tilde S^2}  + \left( r- \frac{\sigma^2}{2}\right)   \frac{\partial \tilde f}{\partial \tilde S}\]

<p>The first derivative can also be taken out using method of lines, i.e., defining a new variable \(x =\tilde S + (r-\sigma^2/2)\tilde t\), we find that</p>

\[\frac{\partial \tilde f}{\partial \tilde t} = \frac{\sigma^2}{2} \frac{\partial^2 \tilde f}{\partial x^2}\]

<p>where \(\tilde f = e^{-r\tilde t} f\), and \(x = \log S + (r-\sigma^2/2)\tilde t\). The initial condition then becoms that at \(\tilde t = 0\)</p>

<ul>
  <li>Call option \(\tilde f(x,0)=\max(e^x-X,0)\)</li>
  <li>Put option \(\tilde f(x,0)=\max(X-e^x,0)\)</li>
</ul>

<p>The Green’s function for the heats equation solution is</p>

\[\frac{\partial u}{\partial t} = D \frac{\partial^2 u}{\partial x^2} \to G(t,t',x,x') = \frac{1}{\sqrt{4\pi D |t-t'|}} e^{-\frac{(x-x')^2}{4D|t-t'|}}\]

<p>As a result the solution to the above equation becomes</p>

\[\tilde f (x,t) = \frac{1}{\sqrt{2\pi \sigma^2}} \int_{-\infty}^{\infty} e^{-\frac{(x-x')^2}{2\sigma^2 t}} \max(e^{x'}-X,0)dx'\]

\[\tilde f (x,t) = \frac{1}{\sqrt{2\pi \sigma^2}} \left[ \int_{-\infty}^{\log X} e^{-\frac{(x-x')^2}{2\sigma^2 t}} (X-e^{x'})dx' + \int_{\log X}^{\infty} e^{-\frac{(x-x')^2}{2\sigma^2 t}} (e^{x'}-X)dx'\right]\]

<p><br></p>
<h2 id="put-call-parity-american-option">Put-Call Parity (American Option)</h2>
<p>So far, what we have discussed was about European options. But what happens in American options? Let’s start with Put-Call parity and what it looks like for American options. Consider the following portfolios</p>

<ul>
  <li>One stock \(S_0\) and a put option \(P\) at strike price \(X\)</li>
  <li>A call option \(C\) with strike price \(X\), and cash \(X\) invested at a risk free rate \(r\)</li>
</ul>

<p>Imagine that we exercise at time \(t&lt;T\). The payoff of the first portfolio is</p>

\[\left[\max(X-S_t,0) + S_t\right] e^{r(T-t)} = \max(X,S_t) e^{r(T-t)}\]

<p>where we imagined that the cash received at time \(t\), is reinvested at the risk-free rate \(r\). The payoff of the second portfolio is</p>

\[\left[ \max(S_t-X,0) + Xe^{rt}  \right] e^{r(T-t)} = \left[ \max(S_t,X) + X(e^{rt}-1)  \right] e^{r(T-t)} = \max(S_t,X)e^{r(T-t)} + X(e^{rT} - e^{r(T-t)})\]

<p>As a result we have</p>

\[S_0 + P \leq C + X\]

<p>Similarly, imagine the following portfolios</p>

<ul>
  <li>One stock \(S_0\) and a put option \(P\) at strike price \(X\)</li>
  <li>A call option \(C\) at strike price \(X\) and and \(Xe^{-rT}\) invested at a risk free rate \(r\)</li>
</ul>

<p>Again, imagine that we exercise at time \(t\), again the first portfolio payoff is</p>

\[\left[\max(X-S_t,0) + S_t\right] e^{r(T-t)} = \max(X,S_t) e^{r(T-t)}\]

<p>The second portfolio can only be traded at \(t=T\), since otherwise the money will not be enough. Therefore the payoff of the second portfolio becomes</p>

\[\max(S_T-X,0) + X = \max(S_T,X)\]

<p>As a result, the payoff of the first portfolio is larger, or</p>

\[C + Xe^{-rT} \leq S_0 + P\]

<p>In summary, we have</p>

\[\boxed{C+ Xe^{-rT} \leq S_0+P \leq C+ X}\]


  </article>

  

</div>

  </div>

  <!-- Footer -->

  
<footer class="fixed-bottom">
  <div class="container mt-0" style="text-align:center;">
    © Copyright 2025 Ahmad  Zareei.
    <!--  -->     
    
    Last updated: June 23, 2025.
    
  </div>
</footer>



</body>

<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>

<!-- Bootsrap & MDB scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.4/umd/popper.min.js" integrity="sha512-eUQ9hGdLjBjY3F41CScH3UX+4JDSI9zXeroz7hJ+RteoCaY+GP/LDoM8AO+Pt+DRFw3nXqsjh9Zsts8hnYv8/A==" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha512-M5KW3ztuIICmVIhjSqXe01oV2bpe248gOxqmlcYrEzAvws7Pw3z6BK0iGbrwvdrUQUhi3eXgtxp5I8PDo9YfjQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js" integrity="sha512-Mug9KHKmroQFMLm93zGrjhibM2z2Obg9l6qFG2qKjXEXkMp/VDkI4uju9m4QKPjWSwQ6O2qzZEnJDEeCw0Blcw==" crossorigin="anonymous"></script>



<!-- Mansory & imagesLoaded -->
<script defer src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script defer src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
<script defer src="/assets/js/mansory.js" type="text/javascript"></script>






<!-- Load Common JS -->
<script src="/assets/js/common.js"></script>

<!-- Load DarkMode JS -->
<script src="/assets/js/dark_mode.js"></script>


</html><html>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-77789841-1', 'auto');
  ga('send', 'pageview');

</script>
</html>
